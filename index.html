<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#C89B3C">
    <meta name="description" content="Ù…ØªØ¬Ø± Ù…ØªØ®ØµØµ ÙÙŠ Ø¨ÙŠØ¹ Ø§Ù„Ø¹Ø·ÙˆØ± ÙˆÙ…Ø³ØªØ­Ø¶Ø±Ø§Øª Ø§Ù„ØªØ¬Ù…ÙŠÙ„ Ø§Ù„Ø£ØµÙ„ÙŠØ©">
    <title>Ø¬Ù…Ø§Ù„Ùƒ | Ù…ØªØ¬Ø± Ù…Ø³ØªØ­Ø¶Ø±Ø§Øª Ø§Ù„ØªØ¬Ù…ÙŠÙ„ ÙˆØ§Ù„Ø¹Ø·ÙˆØ±</title>
    
    <!-- Ø®Ø· Cairo -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ’„</text></svg>">
</head>
<body>
    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© -->
    <div id="authScreen" class="auth-screen">
        <div class="auth-card">
            <div class="auth-header">
                <div class="logo-circle">
                    <span class="logo-text">Ø¬</span>
                </div>
                <h1 class="welcome-text">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¬Ù…Ø§Ù„Ùƒ</h1>
                <p class="auth-subtitle">Ù…ØªØ¬Ø± Ø§Ù„Ø¹Ø·ÙˆØ± ÙˆØ§Ù„ØªØ¬Ù…ÙŠÙ„</p>
            </div>

            <div id="generalError" class="error-message"></div>

            <div id="authOptions" class="auth-options">
                <button id="googleSignInBtn" class="btn outline-btn auth-option-btn">
                    <i class="fab fa-google"></i>
                    <span>Ù…ØªØ§Ø¨Ø¹Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Google</span>
                </button>

                <button id="showEmailFormBtn" class="btn outline-btn auth-option-btn">
                    <i class="far fa-envelope"></i>
                    <span>Ù…ØªØ§Ø¨Ø¹Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨Ø±ÙŠØ¯</span>
                </button>

                <button id="guestSignInBtn" class="btn gray-btn auth-option-btn">
                    <i class="far fa-user"></i>
                    <span>Ù…ØªØ§Ø¨Ø¹Ø© ÙƒÙ€ Ø¶ÙŠÙ</span>
                </button>
            </div>

            <!-- Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ -->
            <div id="emailAuthSection" class="email-form-container hidden">
                
                <!-- Ù‚Ø³Ù… Ø§Ø³ØªØ¹Ø§Ø¯Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
                <div id="resetPasswordSection" class="hidden">
                    <form id="resetPasswordForm">
                        <p class="reset-info">Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±.</p>
                        <div class="form-group">
                            <input type="email" id="resetEmailInput" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
                        </div>
                        <button type="submit" id="sendResetEmailBtn" class="btn primary-btn w-100">
                            <i class="fas fa-paper-plane"></i> Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†
                        </button>
                        <button type="button" id="backToSignIn" class="btn text-btn back-btn">
                            <i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                        </button>
                    </form>
                </div>

                <!-- Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ -->
                <form id="emailAuthForm">
                    <div class="form-group">
                        <input type="text" id="displayNameInput" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" class="hidden">
                    </div>
                    <div class="form-group">
                        <input type="email" id="emailInput" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
                    </div>
                    <div class="form-group">
                        <input type="password" id="passwordInput" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
                        <button type="button" id="togglePassword" class="password-toggle">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    <div class="form-actions">
                        <button type="submit" id="signInWithEmailBtn" class="btn primary-btn">
                            <i class="fas fa-sign-in-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                        </button>
                        <button type="button" id="toggleSignUpMode" class="btn text-btn">
                            <i class="fas fa-user-plus"></i> Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯
                        </button>
                        <button type="button" id="forgotPasswordBtn" class="btn text-btn small-text-btn">
                            Ù‡Ù„ Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ
                        </button>
                    </div>
                    <button type="button" id="backToOptions" class="btn text-btn back-btn">
                        <i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø©
                    </button>
                </form>
            </div>

            <div class="auth-footer">
                <p>Ø¨Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©ØŒ Ø£Ù†Øª ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ <a href="#" class="text-link">Ø´Ø±ÙˆØ· Ø§Ù„Ø®Ø¯Ù…Ø©</a> Ùˆ <a href="#" class="text-link">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>.</p>
            </div>
        </div>
    </div>

    <!-- Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <div id="mainApp" class="hidden">
        <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
        <header class="main-header">
            <div class="container">
                <div class="header-content">
                    <!-- Ø£Ù‚ØµÙ‰ Ø§Ù„ÙŠÙ…ÙŠÙ†: Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª ÙˆØ§Ù„Ù„ÙˆØ¬Ùˆ -->
                    <div class="header-group-right">
                        <button id="menuToggle" class="icon-btn" title="Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©">
                            <i class="fas fa-bars"></i>
                        </button>
                        <div class="logo">
                            <i class="fas fa-spa"></i>
                            <span class="store-name">Ø¬Ù…Ø§Ù„Ùƒ</span>
                        </div>
                    </div>
                    
                    <!-- Ø§Ù„ÙˆØ³Ø·: Ø§Ù„Ø¨Ø­Ø« -->
                    <div class="search-container">
                        <i class="fas fa-search"></i>
                        <input type="text" id="productSearch" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬...">
                    </div>

                    <!-- Ø£Ù‚ØµÙ‰ Ø§Ù„ÙŠØ³Ø§Ø±: Ø§Ù„Ø£Ø²Ø±Ø§Ø± -->
                    <div class="header-group-left">
                        <!-- Ø²Ø± Ø§Ù„Ø³Ù„Ø© -->
                        <button id="cartBtn" class="icon-btn" title="Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚">
                            <i class="fas fa-shopping-cart"></i>
                            <span id="cartCount" class="cart-count hidden">0</span>
                        </button>
                        
                        <!-- Ø²Ø± Ø§Ù„Ø·Ù„Ø¨Ø§Øª -->
                        <button id="ordersBtn" class="icon-btn hidden" title="Ø·Ù„Ø¨Ø§ØªÙŠ">
                            <i class="fas fa-shopping-bag"></i>
                        </button>
                        
                        <!-- Ø²Ø± Ø§Ù„Ø­Ø³Ø§Ø¨ -->
                        <button id="userToggle" class="icon-btn" title="Ø­Ø³Ø§Ø¨ÙŠ">
                            <i class="far fa-user"></i>
                        </button>
                        
                        <!-- Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ -->
                        <button id="logoutBtn" class="icon-btn hidden" title="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬ÙˆØ§Ù„ -->
        <nav class="mobile-nav" id="mobileNav">
            <div class="nav-header">
                <div class="nav-logo">
                    <i class="fas fa-spa"></i>
                    <span class="store-name">Ø¬Ù…Ø§Ù„Ùƒ</span>
                </div>
                <button class="close-nav" id="closeNav">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="nav-links">
                <a href="#" class="nav-link" data-section="home">
                    <i class="fas fa-home"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                </a>
                <a href="#" class="nav-link" data-section="products">
                    <i class="fas fa-store"></i> Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
                </a>
                <a href="#" class="nav-link" data-section="contact">
                    <i class="fas fa-phone"></i> Ø§ØªØµÙ„ Ø¨Ù†Ø§
                </a>
                
                <!-- Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø³Ø¬Ù„ -->
                <a href="#" id="cartMobileBtn" class="nav-link hidden" data-section="cart">
                    <i class="fas fa-shopping-cart"></i> Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚
                    <span id="cartMobileCount" class="cart-count-mobile hidden">0</span>
                </a>
                <a href="#" id="ordersMobileBtn" class="nav-link hidden" data-section="orders">
                    <i class="fas fa-shopping-bag"></i> Ø·Ù„Ø¨Ø§ØªÙŠ
                </a>
            </div>
            
            <div class="nav-actions">
                <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
                <div id="mobileUserInfo" class="mobile-user-info hidden">
                    <img id="mobileUserAvatar" src="https://ui-avatars.com/api/?name=Ø¶ÙŠÙ&background=C89B3C&color=fff" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" class="user-avatar-img">
                    <div class="user-details">
                        <p id="mobileUserName">Ø¶ÙŠÙ</p>
                        <p id="mobileUserEmail" class="user-email">Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…Ø³Ø¬Ù„</p>
                    </div>
                </div>
                
                <!-- Ø²Ø± Ø§Ù„Ø­Ø³Ø§Ø¨ -->
                <a href="#" id="profileMobileBtn" class="nav-link" data-section="profile">
                    <i class="far fa-user"></i> Ø­Ø³Ø§Ø¨ÙŠ
                </a>
                
                <!-- Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„/Ø§Ù„Ø®Ø±ÙˆØ¬ -->
                <button id="mobileAuthBtn" class="btn outline-btn w-100">
                    <i class="fas fa-sign-in-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                </button>
                
                <!-- Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ -->
                <button id="mobileLogoutBtn" class="btn danger-btn w-100 hidden">
                    <i class="fas fa-sign-out-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
                </button>
            </div>
        </nav>

        <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
        <main>
            <!-- Ù‚Ø³Ù… Ø§Ù„Ø¨Ø·Ù„ -->
            <section class="hero-section" id="homeSection">
                <div class="container">
                    <div class="hero-content">
                        <h1 class="hero-title">Ø¬Ù…Ø§Ù„Ùƒ <span class="highlight">Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø¹Ø·ÙˆØ±</span></h1>
                        <p class="hero-description">Ø§ÙƒØªØ´Ù ØªØ´ÙƒÙŠÙ„ØªÙ†Ø§ Ø§Ù„Ø­ØµØ±ÙŠØ© Ù…Ù† Ø£ÙØ¶Ù„ Ø§Ù„Ø¹Ø·ÙˆØ± ÙˆÙ…Ø³ØªØ­Ø¶Ø±Ø§Øª Ø§Ù„ØªØ¬Ù…ÙŠÙ„ Ø§Ù„Ø£ØµÙ„ÙŠØ©</p>
                        <div class="hero-buttons">
                            <a href="#" class="btn primary-btn" data-section="products">
                                <i class="fas fa-shopping-bag"></i> ØªØµÙØ­ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
                            </a>
                            <button id="startShoppingBtn" class="btn outline-btn">
                                <i class="fas fa-star"></i> Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ³ÙˆÙ‚
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
            <section class="products-section" id="productsSection">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§ Ø§Ù„Ù…Ù…ÙŠØ²Ø©</h2>
                        <p class="section-subtitle">Ø§ÙƒØªØ´Ù Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø£Ø³Ø¹Ø§Ø± ØªÙ†Ø§ÙØ³ÙŠØ©</p>
                    </div>
                    
                    <div class="filter-controls">
                        <div class="filter-tabs">
                            <button class="filter-btn active" data-filter="all">Ø§Ù„ÙƒÙ„</button>
                            <button class="filter-btn" data-filter="new">Ø¬Ø¯ÙŠØ¯</button>
                            <button class="filter-btn" data-filter="sale">Ø¹Ø±ÙˆØ¶</button>
                            <button class="filter-btn" data-filter="best">Ø§Ù„Ø£ÙØ¶Ù„</button>
                        </div>
                        <select class="sort-select" id="productSort">
                            <option value="newest">Ø§Ù„Ø£Ø­Ø¯Ø«</option>
                            <option value="price-low">Ø§Ù„Ø£Ù‚Ù„ Ø³Ø¹Ø±Ø§Ù‹</option>
                            <option value="price-high">Ø§Ù„Ø£Ø¹Ù„Ù‰ Ø³Ø¹Ø±Ø§Ù‹</option>
                        </select>
                    </div>
                    
                    <div class="products-grid" id="productsGrid">
                        <div class="loading-spinner"></div>
                    </div>
                </div>
            </section>

            <!-- Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ -->
            <section id="cartSection" class="cart-section hidden">
                <div class="container">
                    <h2 class="section-title">
                        <i class="fas fa-shopping-cart"></i> Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚
                    </h2>
                    <p class="section-subtitle">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚</p>
                    
                    <div id="cartContent" class="cart-content">
                        <div class="cart-items" id="cartItems">
                            <div class="empty-state">
                                <i class="fas fa-shopping-cart"></i>
                                <p>Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ ÙØ§Ø±ØºØ©</p>
                                <a href="#" class="btn primary-btn" data-section="products">
                                    <i class="fas fa-store"></i> ØªØµÙØ­ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
                                </a>
                            </div>
                        </div>
                        
                        <div class="cart-summary" id="cartSummary">
                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- ØµÙØ­Ø© Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø´Ø®ØµÙŠ -->
            <section id="profileSection" class="profile-section hidden">
                <div class="container">
                    <div class="profile-card">
                        <div class="profile-header">
                            <div class="profile-avatar-container">
                                <img id="profileAvatar" src="https://ui-avatars.com/api/?name=Ø¶ÙŠÙ&background=C89B3C&color=fff" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
                                <button id="changeAvatarBtn" class="change-avatar-btn">
                                    <i class="fas fa-camera"></i>
                                </button>
                            </div>
                            <h2 id="profileName">Ø¶ÙŠÙ</h2>
                            <p id="profileEmail">Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…Ø³Ø¬Ù„</p>
                            <span id="adminBadge" class="badge admin-badge hidden">Ù…Ø³Ø¤ÙˆÙ„</span>
                            <p id="profileJoinDate" class="join-date">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù…: ØºÙŠØ± Ù…Ø­Ø¯Ø¯</p>
                        </div>
                        
                        <div class="profile-body">
                            <form id="profileForm">
                                <div class="form-group">
                                    <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                                    <input type="text" id="editDisplayName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" value="Ø¶ÙŠÙ">
                                </div>
                                <div class="form-group">
                                    <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                                    <input type="tel" id="editPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
                                </div>
                                <div class="form-group">
                                    <label>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
                                    <textarea id="editAddress" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„" rows="3"></textarea>
                                </div>
                                <button type="submit" class="btn primary-btn w-100">
                                    <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
                                </button>
                            </form>
                            
                            <div class="profile-actions">
                                <h3>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h3>
                                <button id="changePasswordBtn" class="btn outline-btn w-100">
                                    <i class="fas fa-key"></i> ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Ø§Ù„Ø®Ø¯Ù…Ø§Øª -->
            <section class="services-section">
                <div class="container">
                    <div class="services-grid">
                        <div class="service-card">
                            <i class="fas fa-shipping-fast"></i>
                            <h3>ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹</h3>
                            <p>ØªÙˆØµÙŠÙ„ Ø®Ù„Ø§Ù„ 24-48 Ø³Ø§Ø¹Ø©</p>
                        </div>
                        <div class="service-card">
                            <i class="fas fa-shield-alt"></i>
                            <h3>Ø¬ÙˆØ¯Ø© Ù…Ø¶Ù…ÙˆÙ†Ø©</h3>
                            <p>Ù…Ù†ØªØ¬Ø§Øª Ø£ØµÙ„ÙŠØ© 100%</p>
                        </div>
                        <div class="service-card">
                            <i class="fas fa-headset"></i>
                            <h3>Ø¯Ø¹Ù… ÙÙ†ÙŠ</h3>
                            <p>Ø®Ø¯Ù…Ø© Ø¹Ù…Ù„Ø§Ø¡ Ø¹Ù„Ù‰ Ù…Ø¯Ø§Ø± Ø§Ù„Ø³Ø§Ø¹Ø©</p>
                        </div>
                        <div class="service-card">
                            <i class="fas fa-undo"></i>
                            <h3>Ø¥Ø±Ø¬Ø§Ø¹ Ø³Ù‡Ù„</h3>
                            <p>Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹ Ø®Ù„Ø§Ù„ 14 ÙŠÙˆÙ…</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Ø§Ù„ØªÙˆØ§ØµÙ„ -->
            <section class="contact-section" id="contactSection">
                <div class="container">
                    <div class="contact-content">
                        <h2 class="section-title">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h2>
                        <p class="section-subtitle">Ù†Ø­Ù† Ù‡Ù†Ø§ Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ø³ØªÙØ³Ø§Ø±Ø§ØªÙƒ</p>
                        
                        <div class="contact-info">
                            <div class="contact-item">
                                <i class="fas fa-phone"></i>
                                <span id="contactPhone">+966 50 000 0000</span>
                            </div>
                            <div class="contact-item">
                                <i class="fas fa-envelope"></i>
                                <span id="contactEmail">info@jamalek.com</span>
                            </div>
                            <div class="contact-item">
                                <i class="fas fa-map-marker-alt"></i>
                                <span id="contactAddress">Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© - Ø§Ù„Ø±ÙŠØ§Ø¶</span>
                            </div>
                        </div>
                        
                        <div class="contact-form-container">
                            <h3>Ø£Ø±Ø³Ù„ Ø±Ø³Ø§Ù„Ø©</h3>
                            <form id="contactForm">
                                <div class="form-row">
                                    <div class="form-group">
                                        <input type="text" id="contactName" placeholder="Ø§Ø³Ù…Ùƒ" required>
                                    </div>
                                    <div class="form-group">
                                        <input type="email" id="contactEmailInput" placeholder="Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <input type="text" id="contactSubject" placeholder="Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹">
                                </div>
                                <div class="form-group">
                                    <textarea id="contactMessage" placeholder="Ø±Ø³Ø§Ù„ØªÙƒ" rows="4" required></textarea>
                                </div>
                                <button type="submit" class="btn primary-btn w-100">
                                    <i class="fas fa-paper-plane"></i> Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Ø§Ù„ÙÙˆØªØ± -->
        <footer class="main-footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-info">
                        <h3 class="store-name">Ø¬Ù…Ø§Ù„Ùƒ</h3>
                        <p id="storeDescription">Ù…ØªØ¬Ø± Ù…ØªØ®ØµØµ ÙÙŠ Ø¨ÙŠØ¹ Ø§Ù„Ø¹Ø·ÙˆØ± ÙˆÙ…Ø³ØªØ­Ø¶Ø±Ø§Øª Ø§Ù„ØªØ¬Ù…ÙŠÙ„ Ø§Ù„Ø£ØµÙ„ÙŠØ©</p>
                        <div class="social-links">
                            <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                            <a href="#" class="social-link"><i class="fab fa-facebook"></i></a>
                        </div>
                    </div>
                    <div class="footer-links">
                        <h4>Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h4>
                        <a href="#" data-section="home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                        <a href="#" data-section="products">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
                        <a href="#" data-section="contact">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a>
                        <a href="#" id="footerCartLink" data-section="cart">Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚</a>
                    </div>
                    <div class="footer-contact">
                        <h4>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„</h4>
                        <p><i class="fas fa-clock"></i> Ù…Ù† Ø§Ù„Ø£Ø­Ø¯ Ø¥Ù„Ù‰ Ø§Ù„Ø®Ù…ÙŠØ³: 9 ØµØ¨Ø§Ø­Ø§Ù‹ - 10 Ù…Ø³Ø§Ø¡Ù‹</p>
                        <p><i class="fas fa-phone"></i> <span id="footerPhone">+966 50 000 0000</span></p>
                        <p><i class="fas fa-envelope"></i> <span id="footerEmail">info@jamalek.com</span></p>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>&copy; <span id="currentYear"></span> Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù€ <span class="store-name">Ø¬Ù…Ø§Ù„Ùƒ</span></p>
                    <div class="footer-policies">
                        <a href="#">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>
                        <a href="#">Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Ø§Ù„Ù…ÙˆØ¯Ø§Ù„Ø§Øª -->
    <div id="confirmModal" class="modal hidden">
        <div class="modal-content small">
            <div class="modal-body text-center">
                <i class="fas fa-exclamation-triangle warning-icon"></i>
                <h4 id="confirmMessage">Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø­Ø°ÙØŸ</h4>
                <p id="confirmDetails">Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡</p>
            </div>
            <div class="modal-footer">
                <button id="confirmBtn" class="btn danger-btn">Ù†Ø¹Ù…ØŒ ØªØ£ÙƒÙŠØ¯</button>
                <button id="cancelBtn" class="btn gray-btn">Ø¥Ù„ØºØ§Ø¡</button>
            </div>
        </div>
    </div>

    <div id="messageModal" class="modal hidden">
        <div class="modal-content small">
            <div class="modal-body text-center">
                <i id="messageIcon" class="fas fa-info-circle"></i>
                <h4 id="messageTitle">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø³Ø§Ù„Ø©</h4>
                <p id="messageText">Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</p>
            </div>
            <div class="modal-footer">
                <button id="messageCloseBtn" class="btn primary-btn">Ù…ÙˆØ§ÙÙ‚</button>
            </div>
        </div>
    </div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    
    <!-- ØªØ·Ø¨ÙŠÙ‚ JavaScript -->
    <script>
    // ==================== ØªÙ‡ÙŠØ¦Ø© Firebase ====================
    const firebaseConfig = {
        apiKey: "AIzaSyBdoi5KxlVb6G31cue5SGbaw-VW2UGu4cs",
        authDomain: "qb-store.firebaseapp.com",
        projectId: "qb-store",
        storageBucket: "qb-store.firebasestorage.app",
        messagingSenderId: "81820788306",
        appId: "1:81820788306:web:54be52d359ad36c3e0e18b",
        measurementId: "G-4K0MDY0W5M"
    };

    // ØªÙ‡ÙŠØ¦Ø© Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    // ==================== Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ====================
    let currentUser = null;
    let cartItems = [];
    let wishlistItems = [];

    // ==================== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ====================
    function showToast(message, isError = false, type = 'info') {
        // Ø¥Ø²Ø§Ù„Ø© Ø¹Ù†ØµØ± Toast Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
        const existingToast = document.querySelector('.toast');
        if (existingToast) {
            existingToast.remove();
        }
        
        const toast = document.createElement('div');
        toast.className = `toast ${isError ? 'toast-error' : type === 'success' ? 'toast-success' : type === 'warning' ? 'toast-warning' : ''}`;
        toast.textContent = message;
        
        document.body.appendChild(toast);
        
        // Ø¥Ø®ÙØ§Ø¡ Toast Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†ÙŠ
        setTimeout(() => {
            toast.style.animation = 'slideUp 0.3s ease forwards';
            setTimeout(() => toast.remove(), 300);
        }, 3000);
    }

    function showMessage(title, message, type = 'info') {
        const messageModal = document.getElementById('messageModal');
        const messageIcon = document.getElementById('messageIcon');
        const messageTitle = document.getElementById('messageTitle');
        const messageText = document.getElementById('messageText');
        
        const icons = {
            info: 'fa-info-circle',
            success: 'fa-check-circle',
            warning: 'fa-exclamation-triangle',
            error: 'fa-times-circle'
        };
        
        messageIcon.className = `fas ${icons[type] || icons.info}`;
        messageTitle.textContent = title;
        messageText.textContent = message;
        
        messageModal.classList.remove('hidden');
        
        document.getElementById('messageCloseBtn').onclick = () => {
            messageModal.classList.add('hidden');
        };
    }

    function getCategoryName(category) {
        const categories = {
            'perfume': 'Ø¹Ø·ÙˆØ±',
            'makeup': 'Ù…ÙƒÙŠØ§Ø¬',
            'skincare': 'Ø¹Ù†Ø§ÙŠØ© Ø¨Ø§Ù„Ø¨Ø´Ø±Ø©',
            'haircare': 'Ø¹Ù†Ø§ÙŠØ© Ø¨Ø§Ù„Ø´Ø¹Ø±'
        };
        return categories[category] || category;
    }

    // ==================== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ====================
    function signInAsGuest() {
        const guestUser = {
            uid: 'guest_' + Date.now(),
            email: null,
            displayName: 'Ø¶ÙŠÙ',
            photoURL: null,
            isGuest: true,
            createdAt: new Date().toISOString()
        };
        
        currentUser = guestUser;
        localStorage.setItem('jamalek_user', JSON.stringify(guestUser));
        
        // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        updateUserUI(guestUser);
        
        return { success: true, user: guestUser };
    }

    async function signInWithGoogle() {
        try {
            const provider = new firebase.auth.GoogleAuthProvider();
            const result = await auth.signInWithPopup(provider);
            const user = result.user;
            
            // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ localStorage
            const userState = {
                uid: user.uid,
                email: user.email,
                displayName: user.displayName,
                photoURL: user.photoURL,
                isGuest: false,
                createdAt: new Date().toISOString()
            };
            
            currentUser = userState;
            localStorage.setItem('jamalek_user', JSON.stringify(userState));
            
            // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            updateUserUI(userState);
            
            return { success: true, user: userState };
        } catch (error) {
            console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù€ Google:', error);
            return { success: false, error: getErrorMessage(error.code) };
        }
    }

    async function signInWithEmail(email, password) {
        try {
            const result = await auth.signInWithEmailAndPassword(email, password);
            const user = result.user;
            
            // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ localStorage
            const userState = {
                uid: user.uid,
                email: user.email,
                displayName: user.displayName || user.email?.split('@')[0] || 'Ù…Ø³ØªØ®Ø¯Ù…',
                photoURL: user.photoURL,
                isGuest: false,
                createdAt: new Date().toISOString()
            };
            
            currentUser = userState;
            localStorage.setItem('jamalek_user', JSON.stringify(userState));
            
            // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            updateUserUI(userState);
            
            return { success: true, user: userState };
        } catch (error) {
            console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:', error);
            return { success: false, error: getErrorMessage(error.code) };
        }
    }

    async function signUpWithEmail(email, password, displayName) {
        try {
            const result = await auth.createUserWithEmailAndPassword(email, password);
            const user = result.user;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            if (displayName) {
                await user.updateProfile({ displayName });
            }
            
            // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ localStorage
            const userState = {
                uid: user.uid,
                email: user.email,
                displayName: displayName || user.email?.split('@')[0] || 'Ù…Ø³ØªØ®Ø¯Ù…',
                photoURL: user.photoURL,
                isGuest: false,
                createdAt: new Date().toISOString()
            };
            
            currentUser = userState;
            localStorage.setItem('jamalek_user', JSON.stringify(userState));
            
            // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            updateUserUI(userState);
            
            return { success: true, user: userState };
        } catch (error) {
            console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨:', error);
            return { success: false, error: getErrorMessage(error.code) };
        }
    }

    async function resetPassword(email) {
        try {
            await auth.sendPasswordResetEmail(email);
            return { success: true };
        } catch (error) {
            console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†:', error);
            return { success: false, error: getErrorMessage(error.code) };
        }
    }

    async function signOut() {
        try {
            await auth.signOut();
            currentUser = null;
            localStorage.removeItem('jamalek_user');
            return { success: true };
        } catch (error) {
            console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬:', error);
            return { success: false, error: 'Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬' };
        }
    }

    function loadUserFromLocalStorage() {
        try {
            const savedUser = localStorage.getItem('jamalek_user');
            if (savedUser) {
                const userData = JSON.parse(savedUser);
                currentUser = userData;
                return { success: true, user: userData };
            }
            return { success: false, user: null };
        } catch (error) {
            console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);
            return { success: false, user: null };
        }
    }

    function getErrorMessage(errorCode) {
        const errorMessages = {
            'auth/invalid-email': 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­',
            'auth/user-disabled': 'Ù‡Ø°Ø§ Ø§Ù„Ø­Ø³Ø§Ø¨ Ù…Ø¹Ø·Ù„',
            'auth/user-not-found': 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø­Ø³Ø§Ø¨ Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ',
            'auth/wrong-password': 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©',
            'auth/email-already-in-use': 'Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ù„ÙØ¹Ù„',
            'auth/weak-password': 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¶Ø¹ÙŠÙØ©ØŒ ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„',
            'auth/operation-not-allowed': 'Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ù‡Ø°Ù‡ ØºÙŠØ± Ù…ÙØ¹Ù„Ø©',
            'auth/too-many-requests': 'ØªÙ… Ø¥Ø¬Ø±Ø§Ø¡ Ù…Ø­Ø§ÙˆÙ„Ø§Øª ÙƒØ«ÙŠØ±Ø©ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± ÙˆØ§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹',
            'auth/network-request-failed': 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø´Ø¨ÙƒØ©',
            'auth/popup-closed-by-user': 'ØªÙ… Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„',
            'auth/cancelled-popup-request': 'ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ³Ø¬ÙŠÙ„',
            'default': 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹'
        };
        
        return errorMessages[errorCode] || errorMessages['default'];
    }

    // ==================== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ù„Ø© ====================
    function loadCart() {
        const savedCart = localStorage.getItem('jamalek_cart');
        if (savedCart) {
            try {
                cartItems = JSON.parse(savedCart);
                updateCartCount();
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ù„Ø©:', error);
                cartItems = [];
            }
        }
    }

    function saveCart() {
        localStorage.setItem('jamalek_cart', JSON.stringify(cartItems));
    }

    function updateCartCount() {
        const itemCount = cartItems.reduce((sum, item) => sum + (item.quantity || 1), 0);
        
        const cartCount = document.getElementById('cartCount');
        const cartMobileCount = document.getElementById('cartMobileCount');
        
        if (cartCount) {
            cartCount.textContent = itemCount;
            cartCount.classList.toggle('hidden', itemCount === 0);
        }
        
        if (cartMobileCount) {
            cartMobileCount.textContent = itemCount;
            cartMobileCount.classList.toggle('hidden', itemCount === 0);
        }
    }

    function addToCart(product, quantity = 1) {
        const existingItem = cartItems.find(item => item.id === product.id);
        
        if (existingItem) {
            existingItem.quantity = (existingItem.quantity || 1) + quantity;
        } else {
            cartItems.push({
                id: product.id,
                name: product.name,
                price: product.price,
                image: product.image,
                description: product.description,
                category: product.category,
                quantity: quantity
            });
        }
        
        saveCart();
        updateCartCount();
        showToast(`ØªÙ… Ø¥Ø¶Ø§ÙØ© "${product.name}" Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©`, false, 'success');
        return true;
    }

    // ==================== ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ====================
    function updateUserUI(user) {
        if (!user) return;

        const name = user.displayName || 'Ø¶ÙŠÙ';
        const email = user.email || '';
        const isGuest = user.isGuest || false;
        const photo = user.photoURL || 
            `https://ui-avatars.com/api/?name=${encodeURIComponent(name)}&background=C89B3C&color=fff`;

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‡ÙŠØ¯Ø±
        const ordersBtn = document.getElementById('ordersBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const userToggle = document.getElementById('userToggle');
        
        if (ordersBtn) {
            if (isGuest) {
                ordersBtn.classList.add('hidden');
            } else {
                ordersBtn.classList.remove('hidden');
            }
        }
        
        if (logoutBtn) logoutBtn.classList.remove('hidden');
        if (userToggle) {
            userToggle.innerHTML = isGuest ? 
                '<i class="far fa-user"></i>' : 
                `<i class="fas fa-user-circle"></i>`;
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬ÙˆØ§Ù„
        const mobileUserName = document.getElementById('mobileUserName');
        const mobileUserEmail = document.getElementById('mobileUserEmail');
        const mobileUserAvatar = document.getElementById('mobileUserAvatar');
        const mobileUserInfo = document.getElementById('mobileUserInfo');
        const mobileAuthBtn = document.getElementById('mobileAuthBtn');
        const mobileLogoutBtn = document.getElementById('mobileLogoutBtn');
        const cartMobileBtn = document.getElementById('cartMobileBtn');
        const ordersMobileBtn = document.getElementById('ordersMobileBtn');
        
        if (mobileUserName) mobileUserName.textContent = name;
        if (mobileUserEmail) mobileUserEmail.textContent = isGuest ? 'Ù…Ø³ØªØ®Ø¯Ù… Ø¶ÙŠÙ' : email;
        if (mobileUserAvatar) mobileUserAvatar.src = photo;
        if (mobileUserInfo) mobileUserInfo.classList.remove('hidden');
        if (mobileAuthBtn) mobileAuthBtn.classList.add('hidden');
        if (mobileLogoutBtn) {
            mobileLogoutBtn.classList.remove('hidden');
            mobileLogoutBtn.innerHTML = isGuest ? 
                '<i class="fas fa-user-slash"></i> Ø§Ù„Ø®Ø±ÙˆØ¬ ÙƒØ¶ÙŠÙ' : 
                '<i class="fas fa-sign-out-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬';
        }
        if (cartMobileBtn) cartMobileBtn.classList.remove('hidden');
        if (ordersMobileBtn) {
            if (isGuest) {
                ordersMobileBtn.classList.add('hidden');
            } else {
                ordersMobileBtn.classList.remove('hidden');
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
        const profileName = document.getElementById('profileName');
        const profileEmail = document.getElementById('profileEmail');
        const profileAvatar = document.getElementById('profileAvatar');
        const editDisplayName = document.getElementById('editDisplayName');
        const profileJoinDate = document.getElementById('profileJoinDate');
        
        if (profileName) profileName.textContent = name;
        if (profileEmail) profileEmail.textContent = isGuest ? 'Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…Ø³Ø¬Ù„' : email;
        if (profileAvatar) profileAvatar.src = photo;
        if (editDisplayName) editDisplayName.value = name;
        if (profileJoinDate) {
            const date = user.createdAt ? 
                new Date(user.createdAt).toLocaleDateString('ar-SA') :
                'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
            profileJoinDate.textContent = `ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù…: ${date}`;
        }
    }

    // ==================== ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ====================
    function loadSampleProducts() {
        const productsGrid = document.getElementById('productsGrid');
        const products = [
            {
                id: 1,
                name: 'Ø¹Ø·Ø± ÙØ§Ø®Ø±',
                price: 150,
                image: 'https://images.unsplash.com/photo-1541643600914-78b084683601?q=80&w=300&h=300&fit=crop',
                description: 'Ø¹Ø·Ø± ÙØ§Ø®Ø± Ø¨Ø±Ø§Ø¦Ø­Ø© Ù…Ù…ÙŠØ²Ø©',
                category: 'perfume',
                stock: 10,
                isNew: true
            },
            {
                id: 2,
                name: 'Ù…ÙƒÙŠØ§Ø¬ Ø³Ø§Ø¦Ù„',
                price: 85,
                image: 'https://images.unsplash.com/photo-1596462502278-27bfdc403348?q=80&w=300&h=300&fit=crop',
                description: 'Ù…ÙƒÙŠØ§Ø¬ Ø³Ø§Ø¦Ù„ Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¬ÙˆØ¯Ø©',
                category: 'makeup',
                stock: 15,
                isSale: true
            },
            {
                id: 3,
                name: 'ÙƒØ±ÙŠÙ… Ø§Ù„Ø¨Ø´Ø±Ø©',
                price: 120,
                image: 'https://images.unsplash.com/photo-1556228578-9c360e1d8d34?q=80&w=300&h=300&fit=crop',
                description: 'ÙƒØ±ÙŠÙ… Ø¹Ù†Ø§ÙŠØ© Ø¨Ø§Ù„Ø¨Ø´Ø±Ø©',
                category: 'skincare',
                stock: 20,
                isBest: true
            },
            {
                id: 4,
                name: 'Ø´Ø§Ù…Ø¨Ùˆ ÙØ§Ø®Ø±',
                price: 65,
                image: 'https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?q=80&w=300&h=300&fit=crop',
                description: 'Ø´Ø§Ù…Ø¨Ùˆ Ù„Ù„Ø¹Ù†Ø§ÙŠØ© Ø¨Ø§Ù„Ø´Ø¹Ø±',
                category: 'haircare',
                stock: 25
            }
        ];
        
        productsGrid.innerHTML = products.map(product => `
            <div class="product-card" data-id="${product.id}">
                ${product.isNew ? '<span class="product-badge new">Ø¬Ø¯ÙŠØ¯</span>' : ''}
                ${product.isSale ? '<span class="product-badge sale">Ø¹Ø±Ø¶ Ø®Ø§Øµ</span>' : ''}
                ${product.isBest ? '<span class="product-badge best">Ø§Ù„Ø£ÙØ¶Ù„</span>' : ''}
                
                <img src="${product.image}" alt="${product.name}" class="product-image">
                <div class="product-info">
                    <h3 class="product-name">${product.name}</h3>
                    <p class="product-description">${product.description}</p>
                    <div class="product-meta">
                        <span class="product-category">${getCategoryName(product.category)}</span>
                        <span class="${product.stock > 0 ? 'in-stock' : 'out-of-stock'}">
                            ${product.stock > 0 ? `Ù…ØªÙˆÙØ± (${product.stock})` : 'Ù†ÙØ°Øª Ø§Ù„ÙƒÙ…ÙŠØ©'}
                        </span>
                    </div>
                    <div class="product-footer">
                        <div class="product-price">
                            <span class="current-price">${product.price} Ø±.Ø³</span>
                        </div>
                        <div class="product-buttons">
                            <button class="btn primary-btn add-to-cart" 
                                    data-id="${product.id}" 
                                    data-name="${product.name}"
                                    data-price="${product.price}"
                                    data-image="${product.image}"
                                    ${product.stock <= 0 ? 'disabled' : ''}>
                                <i class="fas fa-cart-plus"></i>
                                ${product.stock > 0 ? 'Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©' : 'Ù†ÙØ°Øª Ø§Ù„ÙƒÙ…ÙŠØ©'}
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        `).join('');
        
        // Ø¥Ø¶Ø§ÙØ© Ø£Ø­Ø¯Ø§Ø« Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø³Ù„Ø©
        document.querySelectorAll('.add-to-cart').forEach(btn => {
            btn.addEventListener('click', function() {
                if (this.disabled) return;
                
                const productId = parseInt(this.getAttribute('data-id'));
                const product = {
                    id: productId,
                    name: this.getAttribute('data-name'),
                    price: parseFloat(this.getAttribute('data-price')),
                    image: this.getAttribute('data-image')
                };
                
                addToCart(product);
            });
        });
    }

    // ==================== Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« ====================
    function setupEventListeners() {
        console.log('Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«...');
        
        // 1. Ø´Ø§Ø´Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
        // Ø²Ø± "Ù…ØªØ§Ø¨Ø¹Ø© ÙƒØ¶ÙŠÙ"
        document.getElementById('guestSignInBtn').addEventListener('click', async function() {
            const result = signInAsGuest();
            if (result.success) {
                document.getElementById('authScreen').classList.add('hidden');
                document.getElementById('mainApp').classList.remove('hidden');
                loadSampleProducts();
                showToast('Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙƒØ¶ÙŠÙ', false, 'success');
            }
        });
        
        // Ø²Ø± "Ù…ØªØ§Ø¨Ø¹Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨Ø±ÙŠØ¯"
        document.getElementById('showEmailFormBtn').addEventListener('click', function() {
            document.getElementById('authOptions').classList.add('hidden');
            document.getElementById('emailAuthSection').classList.remove('hidden');
            document.getElementById('resetPasswordSection').classList.add('hidden');
        });
        
        // Ø²Ø± "Ø§Ù„Ø¹ÙˆØ¯Ø©" ÙÙŠ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¨Ø±ÙŠØ¯
        document.getElementById('backToOptions').addEventListener('click', function() {
            document.getElementById('emailAuthSection').classList.add('hidden');
            document.getElementById('authOptions').classList.remove('hidden');
            document.getElementById('resetPasswordSection').classList.add('hidden');
        });
        
        // Ø²Ø± ØªØ¨Ø¯ÙŠÙ„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        document.getElementById('togglePassword').addEventListener('click', function() {
            const passwordInput = document.getElementById('passwordInput');
            const icon = this.querySelector('i');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                passwordInput.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        });
        
        // Ø²Ø± "Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"
        document.getElementById('forgotPasswordBtn').addEventListener('click', function() {
            document.getElementById('emailAuthForm').classList.add('hidden');
            document.getElementById('resetPasswordSection').classList.remove('hidden');
        });
        
        // Ø²Ø± "Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„" Ù…Ù† Ø§Ø³ØªØ¹Ø§Ø¯Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        document.getElementById('backToSignIn').addEventListener('click', function() {
            document.getElementById('resetPasswordSection').classList.add('hidden');
            document.getElementById('emailAuthForm').classList.remove('hidden');
        });
        
        // Ø²Ø± "Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯"
        document.getElementById('toggleSignUpMode').addEventListener('click', function() {
            const displayNameInput = document.getElementById('displayNameInput');
            const signInBtn = document.getElementById('signInWithEmailBtn');
            
            if (displayNameInput.classList.contains('hidden')) {
                displayNameInput.classList.remove('hidden');
                signInBtn.innerHTML = '<i class="fas fa-user-plus"></i> Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨';
                this.innerHTML = '<i class="fas fa-sign-in-alt"></i> Ù„Ø¯ÙŠ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„';
            } else {
                displayNameInput.classList.add('hidden');
                signInBtn.innerHTML = '<i class="fas fa-sign-in-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„';
                this.innerHTML = '<i class="fas fa-user-plus"></i> Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯';
            }
        });
        
        // Ø²Ø± "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„" Ø£Ùˆ "Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨"
        document.getElementById('emailAuthForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const email = document.getElementById('emailInput').value;
            const password = document.getElementById('passwordInput').value;
            const displayNameInput = document.getElementById('displayNameInput');
            const displayName = displayNameInput.value;
            
            let result;
            if (displayNameInput.classList.contains('hidden')) {
                // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                result = await signInWithEmail(email, password);
            } else {
                // Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨
                result = await signUpWithEmail(email, password, displayName);
            }
            
            if (result.success) {
                document.getElementById('authScreen').classList.add('hidden');
                document.getElementById('mainApp').classList.remove('hidden');
                loadSampleProducts();
                showToast('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­', false, 'success');
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
                this.reset();
                document.getElementById('generalError').classList.remove('show');
            } else {
                const generalError = document.getElementById('generalError');
                generalError.textContent = result.error;
                generalError.classList.add('show');
            }
        });
        
        // Ø²Ø± "Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†"
        document.getElementById('resetPasswordForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            const email = document.getElementById('resetEmailInput').value;
            const result = await resetPassword(email);
            
            if (result.success) {
                showMessage('ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„', 'ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¥Ù„Ù‰ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ', 'success');
                document.getElementById('resetPasswordSection').classList.add('hidden');
                document.getElementById('emailAuthForm').classList.remove('hidden');
                this.reset();
            } else {
                showMessage('Ø®Ø·Ø£', result.error, 'error');
            }
        });
        
        // Ø²Ø± Google
        document.getElementById('googleSignInBtn').addEventListener('click', async function() {
            const result = await signInWithGoogle();
            if (result.success) {
                document.getElementById('authScreen').classList.add('hidden');
                document.getElementById('mainApp').classList.remove('hidden');
                loadSampleProducts();
                showToast('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­', false, 'success');
                document.getElementById('generalError').classList.remove('show');
            } else {
                const generalError = document.getElementById('generalError');
                generalError.textContent = result.error;
                generalError.classList.add('show');
            }
        });
        
        // 2. Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        // ÙØªØ­ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬ÙˆØ§Ù„
        document.getElementById('menuToggle').addEventListener('click', function() {
            document.getElementById('mobileNav').classList.add('active');
        });
        
        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬ÙˆØ§Ù„
        document.getElementById('closeNav').addEventListener('click', function() {
            document.getElementById('mobileNav').classList.remove('active');
        });
        
        // 3. Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
        document.querySelectorAll('[data-section]').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const sectionName = this.getAttribute('data-section');
                
                // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
                document.querySelectorAll('main > section').forEach(section => {
                    section.classList.add('hidden');
                });
                
                // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
                let targetId = '';
                switch(sectionName) {
                    case 'home':
                        targetId = 'homeSection';
                        break;
                    case 'products':
                        targetId = 'productsSection';
                        break;
                    case 'cart':
                        targetId = 'cartSection';
                        break;
                    case 'orders':
                        targetId = 'ordersSection';
                        break;
                    case 'profile':
                        targetId = 'profileSection';
                        break;
                    case 'contact':
                        targetId = 'contactSection';
                        break;
                    default:
                        targetId = sectionName + 'Section';
                }
                
                const targetSection = document.getElementById(targetId);
                if (targetSection) {
                    targetSection.classList.remove('hidden');
                }
                
                // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬ÙˆØ§Ù„
                document.getElementById('mobileNav').classList.remove('active');
                
                // Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ù„Ø£Ø¹Ù„Ù‰
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        });
        
        // 4. Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø®Ø§ØµØ©
        // Ø²Ø± "Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ³ÙˆÙ‚"
        document.getElementById('startShoppingBtn').addEventListener('click', function() {
            document.querySelectorAll('main > section').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById('productsSection').classList.remove('hidden');
            document.getElementById('mobileNav').classList.remove('active');
        });
        
        // Ø²Ø± Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø´Ø®ØµÙŠ
        document.getElementById('userToggle').addEventListener('click', function() {
            document.querySelectorAll('main > section').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById('profileSection').classList.remove('hidden');
        });
        
        // Ø²Ø± Ø§Ù„Ø³Ù„Ø©
        document.getElementById('cartBtn').addEventListener('click', function() {
            document.querySelectorAll('main > section').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById('cartSection').classList.remove('hidden');
        });
        
        // Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
        document.getElementById('logoutBtn').addEventListener('click', async function() {
            const user = currentUser;
            const message = user && user.isGuest ? 
                'Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ø®Ø±ÙˆØ¬ ÙƒØ¶ÙŠÙØŸ Ø³ÙŠØªÙ… Ù…Ø³Ø­ Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚' : 
                'Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ';
            
            if (confirm(message)) {
                await signOut();
                localStorage.removeItem('jamalek_user');
                localStorage.removeItem('jamalek_cart');
                location.reload();
            }
        });
        
        // Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ ÙÙŠ Ø§Ù„Ø¬ÙˆØ§Ù„
        document.getElementById('mobileLogoutBtn').addEventListener('click', async function() {
            const user = currentUser;
            const message = user && user.isGuest ? 
                'Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ø®Ø±ÙˆØ¬ ÙƒØ¶ÙŠÙØŸ Ø³ÙŠØªÙ… Ù…Ø³Ø­ Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚' : 
                'Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ';
            
            if (confirm(message)) {
                await signOut();
                localStorage.removeItem('jamalek_user');
                localStorage.removeItem('jamalek_cart');
                location.reload();
            }
        });
        
        // Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙÙŠ Ø§Ù„Ø¬ÙˆØ§Ù„
        document.getElementById('mobileAuthBtn').addEventListener('click', function() {
            document.getElementById('mainApp').classList.add('hidden');
            document.getElementById('authScreen').classList.remove('hidden');
            document.getElementById('mobileNav').classList.remove('active');
        });
        
        // 5. ÙÙ„ØªØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø· Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù†Ø´Ø· Ù„Ù„Ø²Ø± Ø§Ù„Ù…Ø¶ØºÙˆØ·
                this.classList.add('active');
                
                const filter = this.getAttribute('data-filter');
                console.log('ØªØµÙÙŠØ© Ø­Ø³Ø¨:', filter);
            });
        });
        
        // 6. ÙØ±Ø² Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
        document.getElementById('productSort').addEventListener('change', function() {
            const sortType = this.value;
            console.log('ÙØ±Ø² Ø­Ø³Ø¨:', sortType);
        });
        
        // 7. Ø¨Ø­Ø« Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
        document.getElementById('productSearch').addEventListener('input', function(e) {
            const query = e.target.value;
            if (query.length > 2) {
                console.log('Ø¨Ø­Ø« Ø¹Ù†:', query);
            }
        });
        
        // 8. Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø§ØªØµØ§Ù„
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            showMessage('Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ', 'ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­ØŒ Ø³Ù†Ø±Ø¯ Ø¹Ù„ÙŠÙƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹', 'success');
            this.reset();
        });
        
        // 9. Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
        document.getElementById('profileForm').addEventListener('submit', function(e) {
            e.preventDefault();
            showToast('ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª (Ù†Ø¸Ø§Ù… ØªØ¬Ø±ÙŠØ¨ÙŠ)', false, 'success');
        });
        
        document.getElementById('changePasswordBtn').addEventListener('click', function() {
            showMessage('Ù‚Ø±ÙŠØ¨Ø§Ù‹', 'Ù…ÙŠØ²Ø© ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø³ØªÙƒÙˆÙ† Ù…ØªØ§Ø­Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹', 'info');
        });
        
        // 10. Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        document.getElementById('currentYear').textContent = new Date().getFullYear();
    }

    // ==================== Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ====================
    function initApp() {
        console.log('Ø¨Ø¯Ø¡ ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ØªØ¬Ø±...');
        
        // Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
        setupEventListeners();
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ù„Ø©
        loadCart();
        
        // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† localStorage
        const savedUser = loadUserFromLocalStorage();
        
        if (savedUser.success && savedUser.user) {
            console.log('ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©:', savedUser.user.displayName);
            updateUserUI(savedUser.user);
            document.getElementById('authScreen').classList.add('hidden');
            document.getElementById('mainApp').classList.remove('hidden');
            loadSampleProducts();
        } else {
            // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø­ÙÙˆØ¸ØŒ Ø¹Ø±Ø¶ Ø´Ø§Ø´Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
            console.log('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø­ÙÙˆØ¸ØŒ Ø¹Ø±Ø¶ Ø´Ø§Ø´Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©');
            document.getElementById('authScreen').classList.remove('hidden');
            document.getElementById('mainApp').classList.add('hidden');
        }
        
        console.log('Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¹Ù…Ù„!');
    }

    // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>